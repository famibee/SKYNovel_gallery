const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/platform.js","assets/chunk.js"])))=>i.map(i=>d[i]);
import{t as e}from"../web.js";import{r as t}from"./chunk.js";function n(e){return parseInt(String(e),10)}function r(e){let t=parseInt(String(e),10);return t<0?-t:t}function i(e=`/`,t=` `,n=`:`,r=``){let i=new Date;return String(i.getFullYear())+e+String(100+i.getMonth()+1).slice(1,3)+e+String(100+i.getDate()).slice(1,3)+t+String(100+i.getHours()).slice(1,3)+n+String(100+i.getMinutes()).slice(1,3)+(r===``?``:r+String(i.getMilliseconds()))}var a=`/* SKYNovel */`;function o(){let e=document.getElementsByTagName(`head`)[0],t=e.children.length;for(let n=t-1;n>=0;--n){let t=e.children[n];t instanceof HTMLStyleElement&&t.innerText.startsWith(a)&&e.removeChild(t)}}function s(e){let t=document.createElement(`style`);t.innerHTML=a+e,document.getElementsByTagName(`head`)[0].appendChild(t)}var c=`pointerdown`,l=`pointerdown`,u=`keydown`,d=`compChIn`;function f(e,t,n){let r=e[t];if(!(t in e)){if(isNaN(n))throw`[${e[`:タグ名`]??``}]属性 ${t} は必須です`;return e[t]=n,n}let i=String(r).startsWith(`0x`)?parseInt(r):parseFloat(r);if(isNaN(i))throw`[${e[`:タグ名`]??``}]属性 ${t} の値【${String(r)}】が数値ではありません`;return e[t]=i,i}function p(e,t,n){if(!(t in e))return e[t]=n,n;let r=e[t];if(r===null)return!1;let i=String(r);return e[t]=i===`false`?!1:!!i}function m(e){if(e.startsWith(`#`))return parseInt(e.slice(1),16);let t=Number(e);if(!isNaN(t))return t;if(e===`black`)return 0;b.cc4ColorName.fillStyle=e;let n=b.cc4ColorName.fillStyle;if(n===`#000000`)throw`色名前 ${e} が異常です`;return parseInt(n.slice(1),16)}function h(e,t,n){let r=e[t];return r?e[t]=m(String(r)):(e[t]=n,n)}var g=/JSON at position (\d+)$/;function _(e,t=``,n=``){let r=(g.exec(n)??[``,``])[1];return`[${e[`:タグ名`]??``}] ${t} 属性の解析エラー : ${n}
${String(e[t])}${r?`
${`^`.padStart(Number(r))}`:``}`}var v=/^[^/.]+$|[^/]+(?=\.)/;function y(e){return(v.exec(e)??[``])[0]}var b=class n{static async init(){let n=await e(()=>import(`./platform.js`),__vite__mapDeps([0,1])).then(t(1));this.platform=JSON.stringify(n),this.plat_desc=n.description??``,this.isSafari=n.name===`Safari`,this.isFirefox=n.name===`Firefox`,this.isMac=(n.os?.family??``).includes(`OS X`),this.isMobile=!/(Windows|OS X)/.test(n.os?.family??``)}static stageW=0;static stageH=0;static debugLog=!1;static platform;static plat_desc;static isSafari;static isFirefox;static isMac;static isMobile;static hDip={};static isDbg=!1;static isPackaged=!1;static needClick2Play(){return`AudioContext`in globalThis?(n.#e=new globalThis.AudioContext,n.needClick2Play=()=>n.#e.state===`suspended`):n.needClick2Play=()=>!1,n.needClick2Play()}static#e;static isDarkMode=!1;static cc4ColorName};export{d as a,h as c,y as d,o as f,r as g,m as h,u as i,f as l,_ as m,c as n,s as o,n as p,l as r,p as s,b as t,i as u};