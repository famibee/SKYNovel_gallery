ace.define("ace/mode/skynovel",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/skynovel_highlight_rules","ace/mode/folding/skynovel"],function(e,t,n){var a=e("../lib/oop"),o=e("./text").Mode,l=(e("../tokenizer").Tokenizer,e("./skynovel_highlight_rules").anHighlightRules),r=e("./folding/skynovel").FoldMode,s=function(){this.HighlightRules=l,this.foldingRules=new r};a.inherits(s,o),function(){this.lineCommentStart=";"}.call(s.prototype),t.Mode=s}),ace.define("ace/mode/skynovel_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){var a=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,l=function(){this.createKeywordMapper({keyword:"[|;|*|&|&&","tag.punctuation.begin":"add_face|add_frame|add_lay|autowc|bracket2macro|break_macro|button|call|ch|ch_in_style|ch_out_style|char2macro|clear_event|clear_lay|clear_text|clearsysvar|clearvar|close|copybookmark|current|dump_lay|dump_script|dump_stack|dump_val|else|elsif|enable_event|endif|endlink|endmacro|er|erasebookmark|event|export|fadebgm|fadeoutbgm|fadeoutse|fadese|finish_trans|frame|graph|if|import|jump|l|lay|let|let_abs|let_char_at|let_frame|let_index_of|let_length|let_ml|let_replace|let_round|let_search|let_substr|link|load|loadplugin|log|macro|navigate_to|p|pause_tsy|playbgm|playse|pop_stack|quake|r|rec_ch|rec_r|record_place|reload_script|reset_rec|resume_tsy|return|ruby2|s|save|set_cancel_skip|set_focus|set_frame|snapshot|span|stats|stop_allse|stop_quake|stop_tsy|stopbgm|stopfadese|stopse|tcy|title|toggle_full_screen|trace|trans|tsy|tsy_frame|update_check|volume|wait|wait_tsy|waitclick|wb|wf|window|wl|wq|ws|wt|wv|xchgbuf","entity.other.attribute-name.skynovel":"layer|page","constant.language.skynovel":"null|true|false"},"identifier");this.$rules={start:[{token:"punctuation.definition.comment.skynovel",regex:/;.*/,push_:[{token:"comment.line.semicolon.skynovel",regex:/$|^/,next:"pop"},{defaultToken:"comment.line.semicolon.skynovel"}]},{token:"constant.other.label.skynovel",regex:/^\*\w+/},{token:["meta.tag.punctuation.begin"],regex:/\[[^\s\]]+/,next:[{include:"attributes"}]},{token:["meta.tag.punctuation.amp.begin","entity.other.attribute-name.amp.skynovel","text","keyword.operator.amp","string.quoted.double.amp.skynovel","keyword.operator.amp","text","constant.language.amp.skynovel"],regex:/(&)([^\s=]+)(\s*)(=)(.+?)(?:(=)(\s*)(int|uint|str))?$/},{token:["meta.tag.punctuation.begin.amp","string.quoted.double.amp.skynovel"],regex:/(&)([^&]+)/,next:[{token:"meta.tag.punctuation.end.amp",regex:"&",next:"start"}]},{token:["meta.tag.punctuation.begin.ruby","constant.other.skynovel.ruby","meta.tag.punctuation.begin.ruby","constant.language.skynovel.ruby"],regex:/(｜?)([^《\s][^《]*)(《)([^》]+)/,next:[{token:"meta.tag.punctuation.end.ruby",regex:"》",next:"start"}]}],attributes:[{token:"meta.tag.punctuation.end",regex:/\]/,next:"start"},{token:["entity.other.attribute-name.skynovel","text","keyword.operator"],regex:/\b([^\s=]+)(\s*)([-!%&*+=\/?:])/,next:[{include:"value"}]}],value:[{token:"string.quoted.single.skynovel",regex:/(('|"|#).+?\2)/,next:"attributes"},{token:"constant.language.skynovel",regex:/\b(?:null|true|false)\b/,next:"attributes"},{token:"constant.numeric.skynovel",regex:/\b(?:0(?:x|X)[0-9a-fA-F]*|(?:[0-9]+\.?[0-9]*|\.[0-9]+))\b/,next:"attributes"},{token:"constant.other.label.skynovel",regex:/\*\w+/,next:"attributes"},{token:"string",regex:/[^\s\]]+/,next:"attributes"}]},this.normalizeRules()};l.metaData={fileTypes:["an"],keyEquivalent:"^~A",name:"skynovel",scopeName:"source.skynovel"},a.inherits(l,o),t.anHighlightRules=l}),ace.define("ace/mode/folding/skynovel",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){var a=e("../../lib/oop"),o=e("../../range").Range,l=e("./fold_mode").FoldMode,r=t.FoldMode=function(){};a.inherits(r,l),function(){this.foldingStartMarker=/^\s*\[([^\])]*)]\s*(?:$|[;#])/,this.getFoldWidgetRange=function(e,t,n){var a=this.foldingStartMarker,l=e.getLine(n),r=l.match(a);if(r){for(var s=r[1]+".",i=l.length,u=e.getLength(),c=n,g=n;++n<u;)if(l=e.getLine(n),!/^\s*$/.test(l)){if((r=l.match(a))&&0!==r[1].lastIndexOf(s,0))break;g=n}if(g>c){var d=e.getLine(g).length;return new o(c,i,g,d)}}}}.call(r.prototype)});