"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkgallery"] = self["webpackChunkgallery"] || []).push([["vendors-node_modules_famibee_skynovel_dist_gamepad_js"],{

/***/ "./node_modules/@famibee/skynovel/dist/gamepad.js":
/*!********************************************************!*\
  !*** ./node_modules/@famibee/skynovel/dist/gamepad.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ ee)\n/* harmony export */ });\n/* harmony import */ var _web2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web2.js */ \"./node_modules/@famibee/skynovel/dist/web2.js\");\n\nfunction Q(F, $) {\n  for (var G = 0; G < $.length; G++) {\n    const B = $[G];\n    if (typeof B != \"string\" && !Array.isArray(B)) {\n      for (const O in B)\n        if (O !== \"default\" && !(O in F)) {\n          const L = Object.getOwnPropertyDescriptor(B, O);\n          L && Object.defineProperty(F, O, L.get ? L : {\n            enumerable: !0,\n            get: () => B[O]\n          });\n        }\n    }\n  }\n  return Object.freeze(Object.defineProperty(F, Symbol.toStringTag, { value: \"Module\" }));\n}\nvar N = { exports: {} };\n(function(F, $) {\n  (function(G, B) {\n    F.exports = B();\n  })(_web2_js__WEBPACK_IMPORTED_MODULE_0__.h, () => (() => {\n    var G = { 944: function(m) {\n      var g;\n      g = () => (() => {\n        var S = { d: (u, c) => {\n          for (var s in c) S.o(c, s) && !S.o(u, s) && Object.defineProperty(u, s, { enumerable: !0, get: c[s] });\n        }, o: (u, c) => Object.prototype.hasOwnProperty.call(u, c) }, I = {};\n        function w(u) {\n          return w = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function(c) {\n            return typeof c;\n          } : function(c) {\n            return c && typeof Symbol == \"function\" && c.constructor === Symbol && c !== Symbol.prototype ? \"symbol\" : typeof c;\n          }, w(u);\n        }\n        function A(u, c) {\n          var s = typeof Symbol < \"u\" && u[Symbol.iterator] || u[\"@@iterator\"];\n          if (!s) {\n            if (Array.isArray(u) || (s = x(u)) || c) {\n              s && (u = s);\n              var i = 0, f = function() {\n              };\n              return { s: f, n: function() {\n                return i >= u.length ? { done: !0 } : { done: !1, value: u[i++] };\n              }, e: function(p) {\n                throw p;\n              }, f };\n            }\n            throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);\n          }\n          var d, y = !0, h = !1;\n          return { s: function() {\n            s = s.call(u);\n          }, n: function() {\n            var p = s.next();\n            return y = p.done, p;\n          }, e: function(p) {\n            h = !0, d = p;\n          }, f: function() {\n            try {\n              y || s.return == null || s.return();\n            } finally {\n              if (h) throw d;\n            }\n          } };\n        }\n        function v(u, c) {\n          return function(s) {\n            if (Array.isArray(s)) return s;\n          }(u) || function(s, i) {\n            var f = s == null ? null : typeof Symbol < \"u\" && s[Symbol.iterator] || s[\"@@iterator\"];\n            if (f != null) {\n              var d, y, h, p, R = [], V = !0, q = !1;\n              try {\n                if (h = (f = f.call(s)).next, i !== 0) for (; !(V = (d = h.call(f)).done) && (R.push(d.value), R.length !== i); V = !0) ;\n              } catch (H) {\n                q = !0, y = H;\n              } finally {\n                try {\n                  if (!V && f.return != null && (p = f.return(), Object(p) !== p)) return;\n                } finally {\n                  if (q) throw y;\n                }\n              }\n              return R;\n            }\n          }(u, c) || x(u, c) || function() {\n            throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);\n          }();\n        }\n        function x(u, c) {\n          if (u) {\n            if (typeof u == \"string\") return E(u, c);\n            var s = Object.prototype.toString.call(u).slice(8, -1);\n            return s === \"Object\" && u.constructor && (s = u.constructor.name), s === \"Map\" || s === \"Set\" ? Array.from(u) : s === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s) ? E(u, c) : void 0;\n          }\n        }\n        function E(u, c) {\n          (c == null || c > u.length) && (c = u.length);\n          for (var s = 0, i = new Array(c); s < c; s++) i[s] = u[s];\n          return i;\n        }\n        function j(u, c) {\n          if (!(u instanceof c)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        S.d(I, { default: () => Z });\n        var Z = function() {\n          function u() {\n            var i = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0];\n            j(this, u), this.strict = i, this.defaults = /* @__PURE__ */ new Map(), this.validators = /* @__PURE__ */ new Map(), this.types = /* @__PURE__ */ new Map(), this.optional = /* @__PURE__ */ new Set(), this.required = /* @__PURE__ */ new Set();\n          }\n          var c, s;\n          return c = u, (s = [{ key: \"allowExtra\", value: function() {\n            return this.strict = !1, this;\n          } }, { key: \"setDefaults\", value: function(i) {\n            var f = this;\n            return Object.entries(i).forEach(function(d) {\n              var y = v(d, 2), h = y[0], p = y[1];\n              return f.defaults.set(h, p);\n            }), this;\n          } }, { key: \"setValidators\", value: function(i) {\n            var f = this;\n            return Object.entries(i).forEach(function(d) {\n              var y = v(d, 2), h = y[0], p = y[1];\n              return f.validators.set(h, p);\n            }), this;\n          } }, { key: \"setTypes\", value: function(i) {\n            var f = this;\n            return Object.entries(i).forEach(function(d) {\n              var y = v(d, 2), h = y[0], p = y[1];\n              return f.types.set(h, p);\n            }), this;\n          } }, { key: \"setOptional\", value: function(i) {\n            var f = this;\n            return i.forEach(function(d) {\n              return f.optional.add(d);\n            }), this;\n          } }, { key: \"setRequired\", value: function(i) {\n            var f = this;\n            return i.forEach(function(d) {\n              return f.required.add(d);\n            }), this;\n          } }, { key: \"resolve\", value: function(i) {\n            return this.validate(Object.assign(this.getDefaults(), i));\n          } }, { key: \"getDefaults\", value: function() {\n            var i, f = {}, d = A(this.defaults);\n            try {\n              for (d.s(); !(i = d.n()).done; ) {\n                var y = v(i.value, 2), h = y[0], p = y[1];\n                f[h] = p;\n              }\n            } catch (R) {\n              d.e(R);\n            } finally {\n              d.f();\n            }\n            return f;\n          } }, { key: \"validate\", value: function(i) {\n            for (var f in i) this.validators.has(f) && (i[f] = this.validators.get(f)(i[f]));\n            for (var d in i) {\n              if (!this.optionExists(d)) throw new Error('Unkown option \"'.concat(d, '\".'));\n              this.checkType(d, i[d]);\n            }\n            var y, h = A(this.required.values());\n            try {\n              for (h.s(); !(y = h.n()).done; ) {\n                var p = y.value;\n                if (i[p] === void 0) throw new Error('Option \"'.concat(p, '\" is required.'));\n              }\n            } catch (R) {\n              h.e(R);\n            } finally {\n              h.f();\n            }\n            return i;\n          } }, { key: \"checkType\", value: function(i, f) {\n            if (this.types.has(i)) {\n              var d = this.types.get(i), y = w(f);\n              if (y !== d) throw new Error('Wrong value for option \"'.concat(i, '\": expected type \"').concat(d, '\", got \"').concat(y, '\".'));\n            }\n          } }, { key: \"optionExists\", value: function(i) {\n            return !this.strict || this.defaults.has(i) || this.validators.has(i) || this.optional.has(i) || this.required.has(i) || this.types.has(i);\n          } }]) && function(i, f) {\n            for (var d = 0; d < f.length; d++) {\n              var y = f[d];\n              y.enumerable = y.enumerable || !1, y.configurable = !0, \"value\" in y && (y.writable = !0), Object.defineProperty(i, (h = function(p, R) {\n                if (w(p) !== \"object\" || p === null) return p;\n                var V = p[Symbol.toPrimitive];\n                if (V !== void 0) {\n                  var q = V.call(p, \"string\");\n                  if (w(q) !== \"object\") return q;\n                  throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                }\n                return String(p);\n              }(y.key), w(h) === \"symbol\" ? h : String(h)), y);\n            }\n            var h;\n          }(c.prototype, s), Object.defineProperty(c, \"prototype\", { writable: !1 }), u;\n        }();\n        return I.default;\n      })(), m.exports = g();\n    }, 162: function(m) {\n      m.exports = (() => {\n        var g = { d: (w, A) => {\n          for (var v in A) g.o(A, v) && !g.o(w, v) && Object.defineProperty(w, v, { enumerable: !0, get: A[v] });\n        }, o: (w, A) => Object.prototype.hasOwnProperty.call(w, A) }, S = {};\n        g.d(S, { default: () => I });\n        var I = function() {\n          function w() {\n            (function(v, x) {\n              if (!(v instanceof x)) throw new TypeError(\"Cannot call a class as a function\");\n            })(this, w), this._events = {}, this.on = this.addEventListener, this.off = this.removeEventListener;\n          }\n          var A;\n          return (A = [{ key: \"emit\", value: function(v, x) {\n            if (Object.prototype.hasOwnProperty.call(this._events, v)) for (var E = this._events[v], j = { type: v, detail: x }, Z = E.length, u = 0; u < Z; u++) this.handle(E[u], j);\n          } }, { key: \"handle\", value: function(v, x) {\n            v(x);\n          } }, { key: \"addEventListener\", value: function(v, x) {\n            Object.prototype.hasOwnProperty.call(this._events, v) || (this._events[v] = []), this._events[v].indexOf(x) < 0 && this._events[v].push(x);\n          } }, { key: \"removeEventListener\", value: function(v, x) {\n            if (Object.prototype.hasOwnProperty.call(this._events, v)) {\n              var E = this._events[v], j = E.indexOf(x);\n              j >= 0 && E.splice(j, 1), E.length === 0 && delete this._events[v];\n            }\n          } }]) && function(v, x) {\n            for (var E = 0; E < x.length; E++) {\n              var j = x[E];\n              j.enumerable = j.enumerable || !1, j.configurable = !0, \"value\" in j && (j.writable = !0), Object.defineProperty(v, j.key, j);\n            }\n          }(w.prototype, A), w;\n        }();\n        return S.default;\n      })();\n    } }, B = {};\n    function O(m) {\n      var g = B[m];\n      if (g !== void 0) return g.exports;\n      var S = B[m] = { exports: {} };\n      return G[m].call(S.exports, S, S.exports, O), S.exports;\n    }\n    O.n = (m) => {\n      var g = m && m.__esModule ? () => m.default : () => m;\n      return O.d(g, { a: g }), g;\n    }, O.d = (m, g) => {\n      for (var S in g) O.o(g, S) && !O.o(m, S) && Object.defineProperty(m, S, { enumerable: !0, get: g[S] });\n    }, O.o = (m, g) => Object.prototype.hasOwnProperty.call(m, g), O.r = (m) => {\n      typeof Symbol < \"u\" && Symbol.toStringTag && Object.defineProperty(m, Symbol.toStringTag, { value: \"Module\" }), Object.defineProperty(m, \"__esModule\", { value: !0 });\n    };\n    var L = {};\n    return (() => {\n      O.r(L), O.d(L, { GamepadHandler: () => i, GamepadListener: () => J });\n      var m = O(162), g = O.n(m), S = O(944), I = O.n(S);\n      function w(a) {\n        return w = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function(e) {\n          return typeof e;\n        } : function(e) {\n          return e && typeof Symbol == \"function\" && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        }, w(a);\n      }\n      function A(a, e) {\n        if (!(a instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n      function v(a, e) {\n        for (var o = 0; o < e.length; o++) {\n          var l = e[o];\n          l.enumerable = l.enumerable || !1, l.configurable = !0, \"value\" in l && (l.writable = !0), Object.defineProperty(a, Z(l.key), l);\n        }\n      }\n      function x(a, e) {\n        return x = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(o, l) {\n          return o.__proto__ = l, o;\n        }, x(a, e);\n      }\n      function E(a, e) {\n        if (e && (w(e) === \"object\" || typeof e == \"function\")) return e;\n        if (e !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n        return function(o) {\n          if (o === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return o;\n        }(a);\n      }\n      function j(a) {\n        return j = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        }, j(a);\n      }\n      function Z(a) {\n        var e = function(o, l) {\n          if (w(o) !== \"object\" || o === null) return o;\n          var k = o[Symbol.toPrimitive];\n          if (k !== void 0) {\n            var _ = k.call(o, \"string\");\n            if (w(_) !== \"object\") return _;\n            throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n          }\n          return String(o);\n        }(a);\n        return w(e) === \"symbol\" ? e : String(e);\n      }\n      var u, c, s, i = function(a) {\n        (function(n, r) {\n          if (typeof r != \"function\" && r !== null) throw new TypeError(\"Super expression must either be null or a function\");\n          n.prototype = Object.create(r && r.prototype, { constructor: { value: n, writable: !0, configurable: !0 } }), Object.defineProperty(n, \"prototype\", { writable: !1 }), r && x(n, r);\n        })(t, a);\n        var e, o, l, k, _, D = (k = t, _ = function() {\n          if (typeof Reflect > \"u\" || !Reflect.construct || Reflect.construct.sham) return !1;\n          if (typeof Proxy == \"function\") return !0;\n          try {\n            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n            })), !0;\n          } catch {\n            return !1;\n          }\n        }(), function() {\n          var n, r = j(k);\n          if (_) {\n            var b = j(this).constructor;\n            n = Reflect.construct(r, arguments, b);\n          } else n = r.apply(this, arguments);\n          return E(this, n);\n        });\n        function t(n, r) {\n          var b, M = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n          return A(this, t), (b = D.call(this)).index = n, b.gamepad = r, b.options = b.constructor.resolveOptions(M), b.axes = new Array(r.axes.length).fill(null), b.buttons = new Array(r.buttons.length).fill(null), b.initAxes(), b.initButtons(), b;\n        }\n        return e = t, l = [{ key: \"resolveOptions\", value: function(n) {\n          var r, b, M, T, P = n.axis, z = n.button;\n          return { axis: this.optionResolver.resolve((r = (b = P ?? z) !== null && b !== void 0 ? b : n) !== null && r !== void 0 ? r : {}), button: this.optionResolver.resolve((M = (T = z ?? P) !== null && T !== void 0 ? T : n) !== null && M !== void 0 ? M : {}) };\n        } }], (o = [{ key: \"initAxes\", value: function() {\n          for (var n = this.axes.length, r = 0; r < n; r++) this.axes[r] = this.resolveAxisValue(r);\n        } }, { key: \"initButtons\", value: function() {\n          for (var n = this.buttons.length, r = 0; r < n; r++) this.buttons[r] = this.resolveButtonValue(r);\n        } }, { key: \"update\", value: function(n) {\n          this.gamepad = n, this.updateAxis(), this.updateButtons();\n        } }, { key: \"updateAxis\", value: function() {\n          for (var n = this.axes.length, r = 0; r < n; r++) this.setAxisValue(r, this.resolveAxisValue(r));\n        } }, { key: \"updateButtons\", value: function() {\n          for (var n = this.buttons.length, r = 0; r < n; r++) this.setButtonValue(r, this.resolveButtonValue(r));\n        } }, { key: \"setAxisValue\", value: function(n, r) {\n          this.axes[n] !== r && (this.axes[n] = r, this.emit(\"axis\", { gamepad: this.gamepad, index: this.index, axis: n, value: r }));\n        } }, { key: \"setButtonValue\", value: function(n, r) {\n          this.buttons[n] !== r && (this.buttons[n] = r, this.emit(\"button\", { gamepad: this.gamepad, index: this.index, button: n, pressed: this.gamepad.buttons[n].pressed, value: r }));\n        } }, { key: \"resolveAxisValue\", value: function(n) {\n          var r = this.options.axis, b = r.deadZone, M = r.analog, T = r.precision, P = this.gamepad.axes[n];\n          return b && P < b && P > -b ? 0 : M ? T ? Math.round(P * T) / T : P : P > 0 ? 1 : P < 0 ? -1 : 0;\n        } }, { key: \"resolveButtonValue\", value: function(n) {\n          var r = this.options.button, b = r.deadZone, M = r.analog, T = r.precision, P = this.gamepad.buttons[n].value;\n          return b > 0 && P < b && P > -b ? 0 : M ? T ? Math.round(P * T) / T : P : P === 0 ? 0 : 1;\n        } }]) && v(e.prototype, o), l && v(e, l), Object.defineProperty(e, \"prototype\", { writable: !1 }), t;\n      }(g());\n      function f(a) {\n        return f = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function(e) {\n          return typeof e;\n        } : function(e) {\n          return e && typeof Symbol == \"function\" && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        }, f(a);\n      }\n      function d(a, e) {\n        for (var o = 0; o < e.length; o++) {\n          var l = e[o];\n          l.enumerable = l.enumerable || !1, l.configurable = !0, \"value\" in l && (l.writable = !0), Object.defineProperty(a, y(l.key), l);\n        }\n      }\n      function y(a) {\n        var e = function(o, l) {\n          if (f(o) !== \"object\" || o === null) return o;\n          var k = o[Symbol.toPrimitive];\n          if (k !== void 0) {\n            var _ = k.call(o, \"string\");\n            if (f(_) !== \"object\") return _;\n            throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n          }\n          return String(o);\n        }(a);\n        return f(e) === \"symbol\" ? e : String(e);\n      }\n      u = i, c = \"optionResolver\", s = new (I())().setDefaults({ analog: !0, deadZone: 0, precision: 0 }).setTypes({ analog: \"boolean\", deadZone: \"number\", precision: \"number\" }).setValidators({ deadZone: function(a) {\n        return Math.max(Math.min(a, 1), 0);\n      }, precision: function(a) {\n        return a > 0 ? Math.pow(10, a) : 0;\n      } }), (c = Z(c)) in u ? Object.defineProperty(u, c, { value: s, enumerable: !0, configurable: !0, writable: !0 }) : u[c] = s;\n      var h = function() {\n        function a(l) {\n          (function(k, _) {\n            if (!(k instanceof _)) throw new TypeError(\"Cannot call a class as a function\");\n          })(this, a), this.callback = l, this.frame = null, this.update = this.update.bind(this);\n        }\n        var e, o;\n        return e = a, (o = [{ key: \"setCallback\", value: function(l) {\n          this.callback = l;\n        } }, { key: \"start\", value: function() {\n          this.frame || (this.frame = window.requestAnimationFrame(this.update));\n        } }, { key: \"stop\", value: function() {\n          this.frame && (window.cancelAnimationFrame(this.frame), this.frame = null);\n        } }, { key: \"update\", value: function() {\n          this.frame = window.requestAnimationFrame(this.update), this.callback();\n        } }]) && d(e.prototype, o), Object.defineProperty(e, \"prototype\", { writable: !1 }), a;\n      }();\n      function p(a) {\n        return p = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function(e) {\n          return typeof e;\n        } : function(e) {\n          return e && typeof Symbol == \"function\" && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        }, p(a);\n      }\n      function R(a, e) {\n        if (!(a instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n      function V(a, e) {\n        for (var o = 0; o < e.length; o++) {\n          var l = e[o];\n          l.enumerable = l.enumerable || !1, l.configurable = !0, \"value\" in l && (l.writable = !0), Object.defineProperty(a, q(l.key), l);\n        }\n      }\n      function q(a) {\n        var e = function(o, l) {\n          if (p(o) !== \"object\" || o === null) return o;\n          var k = o[Symbol.toPrimitive];\n          if (k !== void 0) {\n            var _ = k.call(o, \"string\");\n            if (p(_) !== \"object\") return _;\n            throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n          }\n          return String(o);\n        }(a);\n        return p(e) === \"symbol\" ? e : String(e);\n      }\n      function H(a, e) {\n        return H = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(o, l) {\n          return o.__proto__ = l, o;\n        }, H(a, e);\n      }\n      function W(a, e) {\n        if (e && (p(e) === \"object\" || typeof e == \"function\")) return e;\n        if (e !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n        return C(a);\n      }\n      function C(a) {\n        if (a === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return a;\n      }\n      function U(a) {\n        return U = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        }, U(a);\n      }\n      var J = function(a) {\n        (function(t, n) {\n          if (typeof n != \"function\" && n !== null) throw new TypeError(\"Super expression must either be null or a function\");\n          t.prototype = Object.create(n && n.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), n && H(t, n);\n        })(D, a);\n        var e, o, l, k, _ = (l = D, k = function() {\n          if (typeof Reflect > \"u\" || !Reflect.construct || Reflect.construct.sham) return !1;\n          if (typeof Proxy == \"function\") return !0;\n          try {\n            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n            })), !0;\n          } catch {\n            return !1;\n          }\n        }(), function() {\n          var t, n = U(l);\n          if (k) {\n            var r = U(this).constructor;\n            t = Reflect.construct(n, arguments, r);\n          } else t = n.apply(this, arguments);\n          return W(this, t);\n        });\n        function D() {\n          var t, n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n          if (R(this, D), t = _.call(this), typeof navigator.getGamepads != \"function\") throw new Error(\"This browser does not support gamepad API.\");\n          return t.options = n, t.onAxis = t.onAxis.bind(C(t)), t.update = t.update.bind(C(t)), t.start = t.start.bind(C(t)), t.stop = t.stop.bind(C(t)), t.discover = t.discover.bind(C(t)), t.onButton = t.onButton.bind(C(t)), t.handlers = new Array(4).fill(null), t.loop = new h(t.update), window.addEventListener(\"error\", t.stop), t;\n        }\n        return e = D, (o = [{ key: \"start\", value: function() {\n          this.loop.start();\n        } }, { key: \"stop\", value: function() {\n          this.loop.stop();\n        } }, { key: \"update\", value: function() {\n          var t = navigator.getGamepads();\n          this.discover(t[0], 0), this.discover(t[1], 1), this.discover(t[2], 2), this.discover(t[3], 3);\n        } }, { key: \"discover\", value: function(t, n) {\n          t ? (this.handlers[n] === null && this.registerHandler(n, t), this.handlers[n].update(t)) : this.handlers[n] && this.removeGamepad(n);\n        } }, { key: \"registerHandler\", value: function(t, n) {\n          var r = new i(t, n, this.options);\n          this.handlers[t] = r, r.addEventListener(\"axis\", this.onAxis), r.addEventListener(\"button\", this.onButton), this.emit(\"gamepad:connected\", { index: t, gamepad: n }), this.emit(\"gamepad:\".concat(t, \":connected\"), { index: t, gamepad: n });\n        } }, { key: \"removeGamepad\", value: function(t) {\n          var n = this.handlers[t];\n          n.removeEventListener(\"axis\", this.onAxis), n.removeEventListener(\"button\", this.onButton), this.handlers[t] = null, this.emit(\"gamepad:disconnected\", { index: t }), this.emit(\"gamepad:\".concat(t, \":disconnected\"), { index: t });\n        } }, { key: \"onAxis\", value: function(t) {\n          var n = t.detail.index;\n          this.emit(\"gamepad:axis\", t.detail), this.emit(\"gamepad:\".concat(n, \":axis\"), t.detail), this.emit(\"gamepad:\".concat(n, \":axis:\").concat(t.detail.axis), t.detail);\n        } }, { key: \"onButton\", value: function(t) {\n          var n = t.detail.index;\n          this.emit(\"gamepad:button\", t.detail), this.emit(\"gamepad:\".concat(n, \":button\"), t.detail), this.emit(\"gamepad:\".concat(n, \":button:\").concat(t.detail.button), t.detail);\n        } }]) && V(e.prototype, o), Object.defineProperty(e, \"prototype\", { writable: !1 }), D;\n      }(g());\n    })(), L;\n  })());\n})(N);\nvar X = N.exports;\nconst ee = /* @__PURE__ */ Q({\n  __proto__: null\n}, [X]);\n\n//# sourceMappingURL=gamepad.js.map\n\n\n//# sourceURL=webpack://gallery/./node_modules/@famibee/skynovel/dist/gamepad.js?");

/***/ })

}]);