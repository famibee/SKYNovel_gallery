[title text='SKYNovelç°¡æ˜“ãƒãƒ™ãƒ«'][call label=*init]

[add_lay layer=base class=grp]
[add_lay layer=0 class=grp]
[add_lay layer=mes class=txt]
	[lay layer=mes left=0 top=&const.sn.config.window.height-230 style='width: 750px; height: 230px; padding-top: 0px; padding-bottom: 0px; padding-left: 40px; padding-right: 40px;' b_pic=ele1 b_alpha=1 b_alpha_isfixed=true]
		; ele1 = 750x230
[button text=æ—¢èª­ã‚¹ã‚­ãƒƒãƒ— left=640 top=10 page=fore label=*go_skip global=true call=true style='fill: bisque;']

	[call fn=ext_*]

; ä¸€æ–‡å­—ãƒã‚¯ãƒ­ã§çœç•¥è¨˜æ³•
[macro name=lr][l][r][endmacro]
[char2macro char=@ name=lr]
[macro name=plc][p][åœ°ã®æ–‡][endmacro]
[char2macro char=\ name=plc]

; åå‰ã¨ãƒ¬ã‚¤ãƒ¤åˆ‡ã‚Šæ›¿ãˆ
[macro name=åœ°ã®æ–‡]
	[clear_text]
	[ch record=false text='ã€€[r]' wait=0 style='line-height: 2.7em;']
	[rec_ch name='' color='white']
[endmacro]
	[åœ°ã®æ–‡]

&save:sn.doRecLog = true	; ãƒ†ã‚­ã‚¹ãƒˆå±¥æ­´ã®è¨˜éŒ²é–‹å§‹

[macro name=hu]
	; ã“ã®è¾ºã«é¡”ã‚¢ã‚¤ã‚³ãƒ³å¤‰æ›´ã¨ã‹è¿½åŠ ã—ãŸã‚Š
	&col = const.db[mp:text].col; åå‰è¡¨ç¤ºã®cssè‰²åå‰

	; åå‰è¡¨ç¤º
	[clear_text]
	[ch record=false text="&'ã€€ã€€ã€€#{mp:text}[r]'" wait=0 style="&'line-height: 2.7em; color: #{col};'"]

	; ç¾åœ¨ãƒšãƒ¼ã‚¸ã®å±¥æ­´ã«æƒ…å ±ã‚’æ¸¡ã™
	[rec_ch name=%text col=&col]
[endmacro]
	; æ‹¬å¼§ãƒã‚¯ãƒ­ï¼ˆã“ã®è¾ºã¯å¥½ã¿ã ãŒã€ä½¿ã†ã¨ä¾¿åˆ©ï¼‰
	[bracket2macro text='ã€”ã€•' name=hu]


;********************************************************
; ãƒã‚¯ãƒ­ ï¼¢ï¼§ï¼­åˆ‡ã‚Šæ›¿ãˆ
[macro name="bgm"]
	[stopbgm cond="mp:time == null || sn.skip.enabled"]

	[let name=t text=%time|500]	;çœç•¥ã—ãŸæ™‚ã®åˆæœŸå€¤
	[stopse buf=BGM_FO]
	[xchgbuf buf=BGM buf2=BGM_FO]

	[if exp="mp:time == null || sn.skip.enabled"]
		[playbgm *]
	[else]
		[fadeoutse buf=BGM_FO time=&t]
		[playbgm * volume=0]
		[fadebgm * volume=%volume|1 time=&t]
	[endif]
[endmacro]


; å±¥æ­´ç”»é¢
[add_frame id=log src="mat/log.html" b_color=lightgray height=&const.sn.config.window.height*2/3 visible=false]
	[button text=å±¥æ­´è¡¨ç¤º left=530 top=10 page=fore label=*show_log global=true call=true style='fill: deepskyblue;']
	[event key='dom=log:#close' label=*hide_log global=true call=true]


*main
;	[bgm fn="free29" time=2000]
	[fg fn="Lemon" layer=base]
ã€€ç§ã¯ä½•åº¦ã‚‚ä½•åº¦ã‚‚ãã®æœå®Ÿã‚’é¼»ã«æŒã£ã¦ã„ã£ã¦ã¯å—…ã€Šã‹ã€‹ã„ã§ã¿ãŸã€‚ãã‚Œã®ç”£åœ°ã ã¨ã„ã†ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ãƒ¤ãŒæƒ³åƒã«ä¸Šã£ã¦æ¥ã‚‹ã€‚æ¼¢æ–‡ã§ç¿’ã£ãŸã€Œå£²æŸ‘è€…ä¹‹è¨€ã€ã®ä¸­ã«æ›¸ã„ã¦ã‚ã£ãŸã€Œé¼»ã‚’æ’²ã€Šã†ã€‹ã¤ã€ã¨ã„ã†è¨€è‘‰ãŒæ–­ã€Šãã€‹ã‚Œãã‚Œã«æµ®ã‹ã‚“ã§æ¥ã‚‹ã€‚\

ãã—ã¦ãµã‹ã¶ã‹ã¨èƒ¸ä¸€æ¯ã«åŒ‚ã‚„ã‹ãªç©ºæ°—ã‚’å¸ã„è¾¼ã‚ã°ã€ã¤ã„ãèƒ¸ä¸€æ¯ã«å‘¼å¸ã—ãŸã“ã¨ã®ãªã‹ã£ãŸç§ã®èº«ä½“ã‚„é¡”ã«ã¯æ¸©ã„è¡€ã®ã»ã¨ã¼ã‚ŠãŒæ˜‡ã£ã¦æ¥ã¦ãªã‚“ã ã‹èº«å†…ã«å…ƒæ°—ãŒç›®è¦šã‚ã¦æ¥ãŸã®ã ã£ãŸã€‚â€¦â€¦\


ã€€å®Ÿéš›ã‚ã‚“ãªå˜ç´”ãªå†·è¦šã‚„è§¦è¦šã‚„å—…è¦šã‚„è¦–è¦šãŒã€ãšã£ã¨æ˜”ã‹ã‚‰ã“ã‚Œã°ã‹ã‚Šæ¢ã—ã¦ã„ãŸã®ã ã¨è¨€ã„ãŸããªã£ãŸã»ã©ç§ã«ã—ã£ãã‚Šã—ãŸãªã‚“ã¦ç§ã¯ä¸æ€è­°ã«æ€ãˆã‚‹â€•â€•ãã‚ŒãŒã‚ã®é ƒã®ã“ã¨ãªã‚“ã ã‹ã‚‰ã€‚\


	; *** BGM ***
	[fadeoutbgm time=2000]
	; *** BG ***
	[grp bg="yun_5744" l0="Mé¡”a"]

ã€€ç§ã¯ã‚‚ã†å¾€æ¥ã‚’è»½ã‚„ã‹ãªæ˜‚å¥®ã«å¼¾ã‚“ã§ã€ä¸€ç¨®èª‡ã‚Šã‹ãªæ°—æŒã•ãˆæ„Ÿã˜ãªãŒã‚‰ã€ç¾çš„è£…æŸã‚’ã—ã¦è¡—ã‚’æ­©ã€Šã‹ã£ã½ã€‹ã—ãŸè©©äººã®ã“ã¨ãªã©æ€ã„æµ®ã‹ã¹ã¦ã¯æ­©ã„ã¦ã„ãŸã€‚æ±šã‚ŒãŸæ‰‹æ‹­ã®ä¸Šã¸è¼‰ã›ã¦ã¿ãŸã‚Šãƒãƒ³ãƒˆã®ä¸Šã¸ã‚ã¦ãŒã£ã¦ã¿ãŸã‚Šã—ã¦è‰²ã®åæ˜ ã‚’é‡ã€Šã¯ã‹ã€‹ã£ãŸã‚Šã€ã¾ãŸã“ã‚“ãªã“ã¨ã‚’æ€ã£ãŸã‚Šã€\

[r][r][r]
ã€€â€•â€•ã¤ã¾ã‚Šã¯ã“ã®é‡ã•ãªã‚“ã ãªã€‚â€•â€•\


ã€€ãã®é‡ã•ã“ãå¸¸ã€Šã¤ã­ã€‹ã¥ã­å°‹ã­ã‚ãã‚“ã§ã„ãŸã‚‚ã®ã§ã€ç–‘ã„ã‚‚ãªãã“ã®é‡ã•ã¯ã™ã¹ã¦ã®å–„ã„ã‚‚ã®ã™ã¹ã¦ã®ç¾ã—ã„ã‚‚ã®ã‚’é‡é‡ã«æ›ç®—ã—ã¦æ¥ãŸé‡ã•ã§ã‚ã‚‹ã¨ã‹ã€æ€ã„ã‚ãŒã£ãŸè«§è¬”å¿ƒã€Šã‹ã„ãã‚ƒãã—ã‚“ã€‹ã‹ã‚‰ãã‚“ãªé¦¬é¹¿ã’ãŸã“ã¨ã‚’è€ƒãˆã¦ã¿ãŸã‚Šâ€•â€•ãªã«ãŒã•ã¦ç§ã¯å¹¸ç¦ã ã£ãŸã®ã ã€‚\

	; ã‚µãƒ³ãƒ—ãƒ«ã¯æœ€åˆã«æˆ»ã‚‹ãŒã€æ—¢èª­ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã¨æ°¸ä¹…ãƒ«ãƒ¼ãƒ—ã«ãªã‚‹ã®ã§ã€ãã®å¯¾ç­–
	&sn.tagL.enabled = true		; é æœ«ã¾ã§ä¸€æ°—ã«èª­ã¿é€²ã‚€ã‹(lç„¡è¦–)
	&sn.skip.enabled = false	; æ¬¡ã®é¸æŠè‚¢(/æœªèª­)ã¾ã§é€²ã‚€ãŒæœ‰åŠ¹ã‹
	&sn.auto.enabled = false	; è‡ªå‹•èª­ã¿ã™ã™ã¿ãƒ¢ãƒ¼ãƒ‰ã‹ã©ã†ã‹
[jump label=*main]



ï¼ˆéŸ³é‡æ³¨æ„ã€éŸ³å£°ã€Šãƒœã‚¤ã‚¹ã€‹ãŒæµã‚Œã¾ã™ï¼‰[tcy t="451" r=ç¸¦æ¨ª][span style='color: skyblue;']Style[span]'`"<>Â¥Â¥Â¥& Â¥@
[link label=*show_log global=true call=true]ãƒªãƒ³ã‚¯[graph pic=breakline style='background-color: rgba(200,0,200,0.5);'][tcy t=ç¸¦æ¨ª][tcy t="451" r=ç¸¦ä¸­æ¨ª]ğŸ‘ºã€Šã¦ã‚“ãã€‹[endlink][span style='font-size: 64px;']ğŸŒˆ[span]\

ã€”ç´€å­ã€•ã€Œã¡ã‚‡ã£ã¨ï¼ã€€ã¾ãŸæƒé™¤ã‚µãƒœã£ã¦ã‚‹ã®[tcy t=!?]ã€\

ã€”æ™¶ã€•ã€Œããƒ»ã†ãƒ»ã˜ãƒƒï¼ã€€ã®è©±ã ã£ã¦ã°ã€\

ã€€ã‚ºã‚«ã‚ºã‚«ã¨å‰²ã‚Šè¾¼ã‚“ã§ããŸç´€å­ã«ã€æ™¶ãŒç…™ã€Šã‘ã‚€ã€‹ãŸãã†ã«ç­”ãˆã‚‹ã€‚\

ã€”ç´€å­ã€•ã€Œç…ç«¥ã•ã‚“ã€‚ã¡ã‚‡ã£ã¨å¤±ç¤¼ã€\

ã€€ç´€å­ãŒå†·ãŸãäº‘ã„æ”¾ã¡ã€æ™¶ã®èº«ä½“ã‚’ã¾ã•ãã‚Šå§‹ã‚ãŸã€‚\

ã€”æ™¶ã€•ã€Œã†ã²ã‚ƒã²ã‚ƒã²ã‚ƒã²ã‚ƒ[tcy t=!?]ã€€ãã™ãã£ãŸã„ãƒãƒï¼[quake time=500][wq]ã€€ãªã«ã™ã‚“ã ã‚ˆãŠã£ï¼ã€\

ã€”ç´€å­ã€•ã€Œãƒˆãƒ©ãƒ³ãƒ—ã®ã‚«ãƒ¼ãƒ‰ã¯ã©ã“ã«éš ã—ãŸã®ï¼Ÿã€€å‡ºã—ãªã•ã„ã€\

	; ã‚µãƒ³ãƒ—ãƒ«ã¯æœ€åˆã«æˆ»ã‚‹ãŒã€æ—¢èª­ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã¨æ°¸ä¹…ãƒ«ãƒ¼ãƒ—ã«ãªã‚‹ã®ã§ã€ãã®å¯¾ç­–
	&sn.tagL.enabled = true		; é æœ«ã¾ã§ä¸€æ°—ã«èª­ã¿é€²ã‚€ã‹(lç„¡è¦–)
	&sn.skip.enabled = false	; æ¬¡ã®é¸æŠè‚¢(/æœªèª­)ã¾ã§é€²ã‚€ãŒæœ‰åŠ¹ã‹
	&sn.auto.enabled = false	; è‡ªå‹•èª­ã¿ã™ã™ã¿ãƒ¢ãƒ¼ãƒ‰ã‹ã©ã†ã‹
[jump label=*main]


*show_log
	[set_frame id=log var_name=val_dic text=&const.sn.log.json]
	[let_frame id=log var_name=val2ctrl function=true]
		[event key='dom=log:[data-vfn]' label=*log_btn_voice global=true call=true need_err=false]
	[enable_event enabled=false]	; æ–‡å­—ãƒ¬ã‚¤ãƒ¤ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ããªã„ã‚ˆã†ã«
	[frame id=log visible=true][return]
*hide_log
	[enable_event enabled=true]
	[frame id=log visible=false][return]

*log_btn_voice
	[voice fn=&sn.event.domdata.vfn]
[return]

*go_skip
	&sn.skip.enabled = true
	[set_cancel_skip]
[return]

*init
	[event key='dom=#snapshot' label=*snapshot global=true call=true need_err=false]
	[dump_script set_fnc=set_ed break_fnc=break_ed need_err=false]
	[toggle_full_screen key=w]	; for browser
[return]

*snapshot
[snapshot fn=pic][return]
