"use strict";(self.webpackChunkgallery=self.webpackChunkgallery||[]).push([[904],{9904:(t,r,n)=>{n.r(r),n.d(r,{PropParser:()=>s});var e,i=n(4449),o={exports:{}},u=(e||(e=1,typeof self<"u"&&self,o.exports=function(t){var r={};function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=0)}([function(t,r,n){function e(t){if(!(this instanceof e))return new e(t);this._=t}var i=e.prototype;function o(t,r){for(var n=0;n<t;n++)r(n)}function u(t,r,n){return e=function(n,e,i){r=t(r,n,e,i)},o((i=n).length,(function(t){e(i[t],t,i)})),r;var e,i}function s(t,r){return u((function(r,n,e,i){return r.concat([t(n,e,i)])}),[],r)}function a(){return typeof Buffer<"u"}function f(){if(!a())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function c(t){f();var r=u((function(t,r){return t+r}),0,t);if(r%8!=0)throw new Error("The bits ["+t.join(", ")+"] add up to "+r+" which is not an even number of bytes; the total should be divisible by 8");var n,i=r/8,a=(n=function(t){return t>48},u((function(t,r){return t||(n(r)?r:t)}),null,t));if(a)throw new Error(a+" bit range requested exceeds 48 bit (6 byte) Number max.");return new e((function(r,n){var e=i+n;return e>r.length?E(n,i.toString()+" bytes"):w(e,u((function(t,r){var n=function(t,r){var n={v:0,buf:r};return o(t,(function(){var t,r,e;n={v:n.v<<1|(t=n.buf,t[0]>>7),buf:(r=n.buf,e=u((function(t,r,n,e){return t.concat(n===e.length-1?Buffer.from([r,0]).readUInt16BE(0):e.readUInt16BE(n))}),[],r),Buffer.from(s((function(t){return(t<<1&65535)>>8}),e)))}})),n}(r,t.buf);return{coll:t.coll.concat(n.v),buf:n.buf}}),{coll:[],buf:r.slice(n,e)},t).coll)}))}function l(t,r){return new e((function(n,e){return f(),e+r>n.length?E(e,r+" bytes for "+t):w(e+r,n.slice(e,e+r))}))}function h(t,r){if("number"!=typeof(n=r)||Math.floor(n)!==n||r<0||r>6)throw new Error(t+" requires integer length in range [0, 6].");var n}function p(t){return h("uintBE",t),l("uintBE("+t+")",t).map((function(r){return r.readUIntBE(0,t)}))}function g(t){return h("uintLE",t),l("uintLE("+t+")",t).map((function(r){return r.readUIntLE(0,t)}))}function m(t){return h("intBE",t),l("intBE("+t+")",t).map((function(r){return r.readIntBE(0,t)}))}function d(t){return h("intLE",t),l("intLE("+t+")",t).map((function(r){return r.readIntLE(0,t)}))}function b(t){return t instanceof e}function y(t){return"[object Array]"==={}.toString.call(t)}function v(t){return a()&&Buffer.isBuffer(t)}function w(t,r){return{status:!0,index:t,value:r,furthest:-1,expected:[]}}function E(t,r){return y(r)||(r=[r]),{status:!1,index:-1,value:null,furthest:t,expected:r}}function x(t,r){if(!r||t.furthest>r.furthest)return t;var n=t.furthest===r.furthest?function(t,r){if(function(){if(void 0!==e._supportsSet)return e._supportsSet;var t=typeof Set<"u";return e._supportsSet=t,t}()&&Array.from){for(var n=new Set(t),i=0;i<r.length;i++)n.add(r[i]);var o=Array.from(n);return o.sort(),o}for(var u={},s=0;s<t.length;s++)u[t[s]]=!0;for(var a=0;a<r.length;a++)u[r[a]]=!0;var f=[];for(var c in u)({}).hasOwnProperty.call(u,c)&&f.push(c);return f.sort(),f}(t.expected,r.expected):r.expected;return{status:t.status,index:t.index,value:t.value,furthest:r.furthest,expected:n}}var N={};function S(t,r){if(v(t))return{offset:r,line:-1,column:-1};t in N||(N[t]={});for(var n=N[t],e=0,i=0,o=0,u=r;u>=0;){if(u in n){e=n[u].line,0===o&&(o=n[u].lineStart);break}("\n"===t.charAt(u)||"\r"===t.charAt(u)&&"\n"!==t.charAt(u+1))&&(i++,0===o&&(o=u+1)),u--}var s=e+i,a=r-o;return n[r]={line:s,lineStart:o},{offset:r,line:s+1,column:a+1}}function B(t){if(!b(t))throw new Error("not a parser: "+t)}function j(t,r){return"string"==typeof t?t.charAt(r):t[r]}function P(t){if("number"!=typeof t)throw new Error("not a number: "+t)}function O(t){if("function"!=typeof t)throw new Error("not a function: "+t)}function _(t){if("string"!=typeof t)throw new Error("not a string: "+t)}function k(t,r){return new Array(r+1).join(t)}function L(t,r,n){var e=r-t.length;return e<=0?t:k(n,e)+t}function A(t,r,n,e){return{from:t-r>0?t-r:0,to:t+n>e?e:t+n}}function q(t,r){var n,e,i,o,a,f,c=r.index,l=c.offset,h=1;if(l===t.length)return"Got the end of the input";if(v(t)){var p=l-l%8,g=l-p,m=A(p,40,40,t.length),d=s((function(t){return s((function(t){return L(t.toString(16),2,"0")}),t)}),function(t){var r=t.length,n=[],e=0;if(r<=8)return[t.slice()];for(var i=0;i<r;i++)n[e]||n.push([]),n[e].push(t[i]),(i+1)%8==0&&e++;return n}(t.slice(m.from,m.to).toJSON().data));o=0===(f=m).from&&1===f.to?{from:f.from,to:f.to}:{from:f.from/8,to:Math.floor(f.to/8)},e=p/8,n=3*g,g>=4&&(n+=1),h=2,i=s((function(t){return t.length<=4?t.join(" "):t.slice(0,4).join(" ")+"  "+t.slice(4).join(" ")}),d),(a=(8*(o.to>0?o.to-1:o.to)).toString(16).length)<2&&(a=2)}else{var b=t.split(/\r\n|[\n\r\u2028\u2029]/);n=c.column-1,e=c.line-1,o=A(e,2,3,b.length),i=b.slice(o.from,o.to),a=o.to.toString().length}var y=e-o.from;return v(t)&&(a=(8*(o.to>0?o.to-1:o.to)).toString(16).length)<2&&(a=2),u((function(r,e,i){var u,s=i===y,f=s?"> ":"  ";return u=v(t)?L((8*(o.from+i)).toString(16),a,"0"):L((o.from+i+1).toString(),a," "),[].concat(r,[f+u+" | "+e],s?["  "+k(" ",a)+" | "+L("",n," ")+k("^",h)]:[])}),[],i).join("\n")}function I(t,r){return["\n","-- PARSING FAILED "+k("-",50),"\n\n",q(t,r),"\n\n",(n=r.expected,1===n.length?"Expected:\n\n"+n[0]:"Expected one of the following: \n\n"+n.join(", ")),"\n"].join("");var n}function M(t){return void 0!==t.flags?t.flags:[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.unicode?"u":"",t.sticky?"y":""].join("")}function z(){for(var t=[].slice.call(arguments),r=t.length,n=0;n<r;n+=1)B(t[n]);return e((function(n,e){for(var i,o=new Array(r),u=0;u<r;u+=1){if(!(i=x(t[u]._(n,e),i)).status)return i;o[u]=i.value,e=i.index}return x(w(e,o),i)}))}function W(){var t=[].slice.call(arguments);if(0===t.length)throw new Error("seqMap needs at least one argument");var r=t.pop();return O(r),z.apply(null,t).map((function(t){return r.apply(null,t)}))}function F(){var t=[].slice.call(arguments),r=t.length;if(0===r)return C("zero alternates");for(var n=0;n<r;n+=1)B(t[n]);return e((function(r,n){for(var e,i=0;i<t.length;i+=1)if((e=x(t[i]._(r,n),e)).status)return e;return e}))}function D(t,r){return U(t,r).or(V([]))}function U(t,r){return B(t),B(r),W(t,r.then(t).many(),(function(t,r){return[t].concat(r)}))}function $(t){_(t);var r="'"+t+"'";return e((function(n,e){var i=e+t.length,o=n.slice(e,i);return o===t?w(i,o):E(e,r)}))}function R(t,r){(function(t){if(!(t instanceof RegExp))throw new Error("not a regexp: "+t);for(var r=M(t),n=0;n<r.length;n++){var e=r.charAt(n);if("i"!==e&&"m"!==e&&"u"!==e&&"s"!==e)throw new Error('unsupported regexp flag "'+e+'": '+t)}})(t),arguments.length>=2?P(r):r=0;var n,i=(n=t,RegExp("^(?:"+n.source+")",M(n))),o=""+t;return e((function(t,n){var e=i.exec(t.slice(n));if(e){if(0<=r&&r<=e.length){var u=e[0],s=e[r];return w(n+u.length,s)}return E(n,"valid match group (0 to "+e.length+") in "+o)}return E(n,o)}))}function V(t){return e((function(r,n){return w(n,t)}))}function C(t){return e((function(r,n){return E(n,t)}))}function G(t){if(b(t))return e((function(r,n){var e=t._(r,n);return e.index=n,e.value="",e}));if("string"==typeof t)return G($(t));if(t instanceof RegExp)return G(R(t));throw new Error("not a string, regexp, or parser: "+t)}function Z(t){return B(t),e((function(r,n){var e=t._(r,n),i=r.slice(n,e.index);return e.status?E(n,'not "'+i+'"'):w(n,null)}))}function J(t){return O(t),e((function(r,n){var e=j(r,n);return n<r.length&&t(e)?w(n+1,e):E(n,"a character/byte matching "+t)}))}function T(t,r){arguments.length<2&&(r=t,t=void 0);var n=e((function(t,e){return n._=r()._,n._(t,e)}));return t?n.desc(t):n}function H(){return C("fantasy-land/empty")}i.parse=function(t){if("string"!=typeof t&&!v(t))throw new Error(".parse must be called with a string or Buffer as its argument");var r,n=this.skip(Y)._(t,0);return r=n.status?{status:!0,value:n.value}:{status:!1,index:S(t,n.furthest),expected:n.expected},delete N[t],r},i.tryParse=function(t){var r=this.parse(t);if(r.status)return r.value;var n=I(t,r),e=new Error(n);throw e.type="ParsimmonError",e.result=r,e},i.assert=function(t,r){return this.chain((function(n){return t(n)?V(n):C(r)}))},i.or=function(t){return F(this,t)},i.trim=function(t){return this.wrap(t,t)},i.wrap=function(t,r){return W(t,this,r,(function(t,r){return r}))},i.thru=function(t){return t(this)},i.then=function(t){return B(t),z(this,t).map((function(t){return t[1]}))},i.many=function(){var t=this;return e((function(r,n){for(var e=[],i=void 0;;){if(!(i=x(t._(r,n),i)).status)return x(w(n,e),i);if(n===i.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=i.index,e.push(i.value)}}))},i.tieWith=function(t){return _(t),this.map((function(r){if(function(t){if(!y(t))throw new Error("not an array: "+t)}(r),r.length){_(r[0]);for(var n=r[0],e=1;e<r.length;e++)_(r[e]),n+=t+r[e];return n}return""}))},i.tie=function(){return this.tieWith("")},i.times=function(t,r){var n=this;return arguments.length<2&&(r=t),P(t),P(r),e((function(e,i){for(var o=[],u=void 0,s=void 0,a=0;a<t;a+=1){if(s=x(u=n._(e,i),s),!u.status)return s;i=u.index,o.push(u.value)}for(;a<r&&(s=x(u=n._(e,i),s),u.status);a+=1)i=u.index,o.push(u.value);return x(w(i,o),s)}))},i.result=function(t){return this.map((function(){return t}))},i.atMost=function(t){return this.times(0,t)},i.atLeast=function(t){return W(this.times(t),this.many(),(function(t,r){return t.concat(r)}))},i.map=function(t){O(t);var r=this;return e((function(n,e){var i=r._(n,e);return i.status?x(w(i.index,t(i.value)),i):i}))},i.contramap=function(t){O(t);var r=this;return e((function(n,e){var i=r.parse(t(n.slice(e)));return i.status?w(e+n.length,i.value):i}))},i.promap=function(t,r){return O(t),O(r),this.contramap(t).map(r)},i.skip=function(t){return z(this,t).map((function(t){return t[0]}))},i.mark=function(){return W(K,this,K,(function(t,r,n){return{start:t,value:r,end:n}}))},i.node=function(t){return W(K,this,K,(function(r,n,e){return{name:t,value:n,start:r,end:e}}))},i.sepBy=function(t){return D(this,t)},i.sepBy1=function(t){return U(this,t)},i.lookahead=function(t){return this.skip(G(t))},i.notFollowedBy=function(t){return this.skip(Z(t))},i.desc=function(t){y(t)||(t=[t]);var r=this;return e((function(n,e){var i=r._(n,e);return i.status||(i.expected=t),i}))},i.fallback=function(t){return this.or(V(t))},i.ap=function(t){return W(t,this,(function(t,r){return t(r)}))},i.chain=function(t){var r=this;return e((function(n,e){var i=r._(n,e);return i.status?x(t(i.value)._(n,i.index),i):i}))},i.concat=i.or,i.empty=H,i.of=V,i["fantasy-land/ap"]=i.ap,i["fantasy-land/chain"]=i.chain,i["fantasy-land/concat"]=i.concat,i["fantasy-land/empty"]=i.empty,i["fantasy-land/of"]=i.of,i["fantasy-land/map"]=i.map;var K=e((function(t,r){return w(r,S(t,r))})),Q=e((function(t,r){return r>=t.length?E(r,"any character/byte"):w(r+1,j(t,r))})),X=e((function(t,r){return w(t.length,t.slice(r))})),Y=e((function(t,r){return r<t.length?E(r,"EOF"):w(r,null)})),tt=R(/[0-9]/).desc("a digit"),rt=R(/[0-9]*/).desc("optional digits"),nt=R(/[a-z]/i).desc("a letter"),et=R(/[a-z]*/i).desc("optional letters"),it=R(/\s*/).desc("optional whitespace"),ot=R(/\s+/).desc("whitespace"),ut=$("\r"),st=$("\n"),at=$("\r\n"),ft=F(at,st,ut).desc("newline"),ct=F(ft,Y);e.all=X,e.alt=F,e.any=Q,e.cr=ut,e.createLanguage=function(t){var r={};for(var n in t)({}).hasOwnProperty.call(t,n)&&function(n){r[n]=T((function(){return t[n](r)}))}(n);return r},e.crlf=at,e.custom=function(t){return e(t(w,E))},e.digit=tt,e.digits=rt,e.empty=H,e.end=ct,e.eof=Y,e.fail=C,e.formatError=I,e.index=K,e.isParser=b,e.lazy=T,e.letter=nt,e.letters=et,e.lf=st,e.lookahead=G,e.makeFailure=E,e.makeSuccess=w,e.newline=ft,e.noneOf=function(t){return J((function(r){return t.indexOf(r)<0})).desc("none of '"+t+"'")},e.notFollowedBy=Z,e.of=V,e.oneOf=function(t){for(var r=t.split(""),n=0;n<r.length;n++)r[n]="'"+r[n]+"'";return J((function(r){return t.indexOf(r)>=0})).desc(r)},e.optWhitespace=it,e.Parser=e,e.range=function(t,r){return J((function(n){return t<=n&&n<=r})).desc(t+"-"+r)},e.regex=R,e.regexp=R,e.sepBy=D,e.sepBy1=U,e.seq=z,e.seqMap=W,e.seqObj=function(){for(var t,r={},n=0,i=(t=arguments,Array.prototype.slice.call(t)),o=i.length,u=0;u<o;u+=1){var s=i[u];if(!b(s)){if(y(s)&&2===s.length&&"string"==typeof s[0]&&b(s[1])){var a=s[0];if(Object.prototype.hasOwnProperty.call(r,a))throw new Error("seqObj: duplicate key "+a);r[a]=!0,n++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===n)throw new Error("seqObj expects at least one named parser, found zero");return e((function(t,r){for(var n,e={},u=0;u<o;u+=1){var s,a;if(y(i[u])?(s=i[u][0],a=i[u][1]):(s=null,a=i[u]),!(n=x(a._(t,r),n)).status)return n;s&&(e[s]=n.value),r=n.index}return x(w(r,e),n)}))},e.string=$,e.succeed=V,e.takeWhile=function(t){return O(t),e((function(r,n){for(var e=n;e<r.length&&t(j(r,e));)e++;return w(e,r.slice(n,e))}))},e.test=J,e.whitespace=ot,e["fantasy-land/empty"]=H,e["fantasy-land/of"]=V,e.Binary={bitSeq:c,bitSeqObj:function(t){f();var r={},n=0,e=s((function(t){if(y(t)){var e=t;if(2!==e.length)throw new Error("["+e.join(", ")+"] should be length 2, got length "+e.length);if(_(e[0]),P(e[1]),Object.prototype.hasOwnProperty.call(r,e[0]))throw new Error("duplicate key in bitSeqObj: "+e[0]);return r[e[0]]=!0,n++,e}return P(t),[null,t]}),t);if(n<1)throw new Error("bitSeqObj expects at least one named pair, got ["+t.join(", ")+"]");var i=s((function(t){return t[0]}),e);return c(s((function(t){return t[1]}),e)).map((function(t){return u((function(t,r){return null!==r[0]&&(t[r[0]]=r[1]),t}),{},s((function(r,n){return[r,t[n]]}),i))}))},byte:function(t){if(f(),P(t),t>255)throw new Error("Value specified to byte constructor ("+t+"=0x"+t.toString(16)+") is larger in value than a single byte.");var r=(t>15?"0x":"0x0")+t.toString(16);return e((function(n,e){var i=j(n,e);return i===t?w(e+1,i):E(e,r)}))},buffer:function(t){return l("buffer",t).map((function(t){return Buffer.from(t)}))},encodedString:function(t,r){return l("string",r).map((function(r){return r.toString(t)}))},uintBE:p,uint8BE:p(1),uint16BE:p(2),uint32BE:p(4),uintLE:g,uint8LE:g(1),uint16LE:g(2),uint32LE:g(4),intBE:m,int8BE:m(1),int16BE:m(2),int32BE:m(4),intLE:d,int8LE:d(1),int16LE:d(2),int32LE:d(4),floatBE:l("floatBE",4).map((function(t){return t.readFloatBE(0)})),floatLE:l("floatLE",4).map((function(t){return t.readFloatLE(0)})),doubleBE:l("doubleBE",8).map((function(t){return t.readDoubleBE(0)})),doubleLE:l("doubleLE",8).map((function(t){return t.readDoubleLE(0)}))},t.exports=e}])),o.exports);class s{constructor(t,r="\\"){function n(t){const r=[];for(const n of t)r.push(("string"==typeof n?u.string(n):u.regex(n)).trim(u.optWhitespace));return u.alt.apply(null,r)}function e(t){let r=Object.keys(t).sort().map((r=>("string"==typeof t[r]?u.string(t[r]):u.regex(t[r])).trim(u.optWhitespace).result(r)));return u.alt.apply(null,r)}function o(t,r){const n=u.lazy((()=>u.seq(t,n).or(r)));return n}function s(t,r){return u.seqMap(r,t.many(),((t,r)=>r.reduce(((t,r)=>[r,t]),t)))}function a(t,r){let n=u.lazy((()=>r.chain((r=>u.seq(t,u.of(r),n).or(u.of(r))))));return n}function f(t,r){return u.seqMap(r,u.seq(t,r).many(),((t,r)=>r.reduce(((t,r)=>[r[0],t,r[1]]),t)))}this.val=t;const c=u.alt(u.alt(u.regex(/-?(0|[1-9][0-9]*)\.[0-9]+/),u.regex(/0x[0-9a-fA-F]+/)).map(Number),u.alt(u.regex(/-?(0|[1-9][0-9]*)/)).map((t=>(0,i.i)(t)))).map((t=>["!num!",t])).desc("number"),l=u.string("null").map((()=>["!str!",null])),h=u.regex(/(true|false)/).map((t=>["!bool!","true"===t])).desc("boolean"),p=u.regex(new RegExp(`(?:"(?:\\${r}["'#\\n]|[^"])*"|'(?:\\${r}["'#\\n]|[^'])*'|\\#(?:\\${r}["'#\\n]|[^#])*\\#)`)).map((t=>["!str!",t.slice(1,-1).replaceAll(r,"")])).desc("string"),g=/\[[^\]]+\]/g,m=u.regex(/-?(?:(?:tmp|sys|save|mp):)?[^\s!-\/:-@[-^`{-~]+(?:\.[^\s!-\/:-@[-^`{-~]+|\[[^\]]+\])*(?:@str)?/).map((t=>{const r=String(t).replaceAll(g,(t=>"."+this.parse(t.slice(1,-1)))),n=this.val.getVal(r);return null==n?["!str!",n]:"boolean"==typeof n?["!bool!",n]:"[object String]"===Object.prototype.toString.call(n)?["!str!",String(n)]:["!num!",Number(n)]})).desc("string"),d=u.lazy((()=>u.string("(").then(this.#t).skip(u.string(")")).or(c).or(l).or(h).or(p).or(m))),b=[{type:o,ops:n([/[A-Za-z_][A-Za-z0-9_]*(?=\()/])},{type:s,ops:e({PostfixInc:"++"})},{type:s,ops:e({PostfixDec:"--"})},{type:o,ops:n([/!(?!=)|~/])},{type:o,ops:e({PrefixInc:"++"})},{type:o,ops:e({PrefixDec:"--"})},{type:o,ops:e({UnaryNegate:/-(?!-)/})},{type:a,ops:n(["**"])},{type:f,ops:n(["*","/","¥","%"])},{type:f,ops:n(["+","-"])},{type:f,ops:n([/>>>|<<|>>/])},{type:f,ops:n([/<=|<|>=|>/])},{type:f,ops:n([/===|!==|==|!=/])},{type:f,ops:n([/&(?!&)/])},{type:f,ops:n(["^"])},{type:f,ops:n([/\|(?!\|)/])},{type:f,ops:n(["&&"])},{type:f,ops:n(["||"])},{type:a,ops:n([":"])},{type:a,ops:n(["?"])}].reduce(((t,r)=>r.type(r.ops,t)),d);this.#t=b.trim(u.optWhitespace)}#t=null;parse(t){const r=this.#t.parse(t);if(!r.status)throw Error("(PropParser)文法エラー【"+t+"】");const n=r.value;return"!str!"===n[0]?this.#r(n[1]):this.#n(n)}#n(t){const r=t.shift();if(r instanceof Array)return this.#n(r);const n=this.#e[r];return n?n(t):Object(null)}#e={"!num!":t=>t.shift(),"!str!":t=>this.#r(t.shift()),"!bool!":t=>t.shift(),PostfixInc:t=>{throw Error("(PropParser)後置インクリメントは未サポートです")},PostfixDec:t=>{throw Error("(PropParser)後置デクリメントは未サポートです")},PrefixInc:t=>{throw Error("(PropParser)前置インクリメントは未サポートです")},PrefixDec:t=>{throw Error("(PropParser)前置デクリメントは未サポートです")},"!":t=>!this.#e.Boolean(t),"~":t=>~Number(this.#n(t.shift())),UnaryNegate:t=>-this.#e.Number(t),"**":t=>Number(this.#n(t.shift()))**Number(this.#n(t.shift())),"*":t=>Number(this.#n(t.shift()))*Number(this.#n(t.shift())),"/":t=>Number(this.#n(t.shift()))/Number(this.#n(t.shift())),"¥":t=>Math.floor(this.#e["/"](t)),"%":t=>Number(this.#n(t.shift()))%Number(this.#n(t.shift())),"+":t=>{const r=this.#n(t.shift()),n=this.#n(t.shift());return"[object String]"===Object.prototype.toString.call(r)||"[object String]"===Object.prototype.toString.call(n)?String(r)+String(n):Number(r)+Number(n)},"-":t=>Number(this.#n(t.shift()))-Number(this.#n(t.shift())),int:t=>(0,i.i)(this.#i(t.shift())),parseInt:t=>(0,i.i)(this.#e.Number(t)),Number:t=>{const r=this.#n(t.shift());return"[object String]"===Object.prototype.toString.call(r)?this.#i(this.#t.parse(String(r)).value):Number(r)},Boolean:t=>{const r=t.shift();return"!bool!"===r[0]?!!r[1]:!!this.#n(r)},ceil:t=>Math.ceil(this.#i(t.shift())),floor:t=>Math.floor(this.#i(t.shift())),round:t=>Math.round(this.#i(t.shift())),isNaN:t=>Number.isNaN(this.#i(t.shift())),"<<":t=>Number(this.#n(t.shift()))<<Number(this.#n(t.shift())),">>":t=>Number(this.#n(t.shift()))>>Number(this.#n(t.shift())),">>>":t=>Number(this.#n(t.shift()))>>>Number(this.#n(t.shift())),"<":t=>Number(this.#n(t.shift()))<Number(this.#n(t.shift())),"<=":t=>Number(this.#n(t.shift()))<=Number(this.#n(t.shift())),">":t=>Number(this.#n(t.shift()))>Number(this.#n(t.shift())),">=":t=>Number(this.#n(t.shift()))>=Number(this.#n(t.shift())),"==":t=>{const r=this.#n(t.shift()),n=this.#n(t.shift());return null!=r||null!=n||r&&n?String(r)===String(n):r==n},"!=":t=>!this.#e["=="](t),"===":t=>{const r=this.#n(t.shift()),n=this.#n(t.shift());return Object.prototype.toString.call(r)==Object.prototype.toString.call(n)&&String(r)===String(n)},"!==":t=>!this.#e["==="](t),"&":t=>Number(this.#n(t.shift()))&Number(this.#n(t.shift())),"^":t=>Number(this.#n(t.shift()))^Number(this.#n(t.shift())),"|":t=>Number(this.#n(t.shift()))|Number(this.#n(t.shift())),"&&":t=>"true"===String(this.#n(t.shift()))&&"true"===String(this.#n(t.shift())),"||":t=>"true"===String(this.#n(t.shift()))||"true"===String(this.#n(t.shift())),"?":t=>{const r=this.#e.Boolean(t),n=t.shift();if(":"!==n[0])throw Error("(PropParser)三項演算子の文法エラーです。: が見つかりません");return this.#n(n[r?1:2])},":":()=>{throw Error("(PropParser)三項演算子の文法エラーです。? が見つかりません")}};#i(t){const r=this.#n(t);if("[object Number]"!==Object.prototype.toString.call(r))throw Error("(PropParser)引数【"+r+"】が数値ではありません");return Number(r)}#o=/(\$((tmp|sys|save|mp):)?[^\s!--\/:-@[-^`{-~]+|\#\{[^\}]+})/g;#r(t){return null==t?t:String(t).replaceAll(this.#o,(t=>t.startsWith("$")?this.val.getVal(t.slice(1)):this.parse(t.slice(2,-1))))}getValAmpersand=t=>t.startsWith("&")?String(this.parse(t.slice(1))):t;static#u=/^((?<scope>\w+?):)?(?<name>[^\s :@]+)(?<at>\@str)?$/;static getValName(t){const r=this.#u.exec(t.trim())?.groups;if(!r)return null;const{scope:n="tmp",name:e,at:i=""}=r;return{scope:n,name:s.#s(e),at:i}}static#s(t){let r=0,n=0;for(;;){if(r=t.indexOf('["'),r<0){if(r=t.indexOf("['"),r<0)break;n=t.indexOf("']",r+2)}else n=t.indexOf('"]',r+2);if(n<0)break;t=t.slice(0,r)+"."+t.slice(r+2,n)+t.slice(n+2),r=n-2}return t}}}}]);